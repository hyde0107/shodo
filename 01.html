<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01 2026公民館</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>01 2026公民館 (GIFT)</h1>

<div class="app-container">
    <div class="player-section">
        <div id="player" class="video-container"></div>
    </div>
    <div class="list-section" id="timestamp-list"></div>
</div>

<a href="index.html" class="back-link">← データベースに戻る</a>

<script>
    const VIDEO_ID = 'lN17WxlwdTY'; 
    let player;

    // YouTube Iframe API の読み込み
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    const firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // API準備完了時の処理
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            videoId: VIDEO_ID,
            playerVars: { 
                'playsinline': 1,
                'rel': 0,
                'modestbranding': 1
            },
            events: {
                'onReady': onPlayerReady
            }
        });
    }

    // 歌詞・メモデータ
    const data = [
        ["00:00", "一番きれいな色ってなんだろう？", ""],
        ["00:07", "一番ひかってるものってなんだろう？", ""],
        ["00:13", "僕は探していた 最高のGIFTを", ""],
        ["00:20", "君が喜んだ姿をイメージしながら", ""],
        ["00:26", "♪ (Instrumental)", "入場・準備"],
        ["00:37", "「本当の自分」を見つけたいって言うけど", ""],
        ["00:44", "「生まれた意味」を知りたいって言うけど", ""],
        ["00:50", "僕の両手がそれを渡す時", ""],
        ["00:56", "ふと謎が解けるといいな 受け取ってくれるかな", ""],
        ["01:07", "長い間 君に渡したくて", ""],
        ["01:13", "強く握り締めていたから", ""],
        ["01:18", "もうグジャグジャになって 色は変わり果て", ""],
        ["01:25", "お世辞にもきれいとは言えないけど", ""],
        ["01:30", "「白か黒で答えろ」という", ""],
        ["01:35", "難題を突きつけられ", ""],
        ["01:38", "ぶち当たった壁の前で", ""],
        ["01:42", "僕らはまた迷っている 迷ってるけど", ""],
        ["01:50", "白と黒のその間に", ""],
        ["01:55", "無限の色が広がってる", ""],
        ["01:58", "君に似合う色探して やさしい名前をつけたなら", ""],
        ["02:04", "ほら 一番きれいな色", ""],
        ["02:09", "今 君に贈るよ", "決め"],
        ["02:13", "♪ (Instrumental)", ""],
        ["02:17", "地平線の先に辿り着いても", ""],
        ["02:24", "新しい地平線が広がるだけ", ""],
        ["02:30", "「もうやめにしようか？」 自分の胸に聞くと", ""],
        ["02:38", "「まだ歩き続けたい」と返事が聞こえたよ", ""],
        ["02:47", "知らぬ間に増えていった荷物も", ""],
        ["02:53", "まだなんとか背負っていけるから", ""],
        ["02:58", "君の分まで持つよ だからそばにいてよ", ""],
        ["03:06", "それだけで心は軽くなる", ""],
        ["03:11", "果てしない旅路の果てに", ""],
        ["03:16", "「選ばれる者」とは誰？", ""],
        ["03:19", "たとえ僕じゃなくたって", ""],
        ["03:22", "それでもまた走っていく 走っていくよ", ""],
        ["03:31", "降り注ぐ日差しがあって", ""],
        ["03:35", "だからこそ日陰もあって", ""],
        ["03:38", "そのすべてが意味を持って", ""],
        ["03:42", "互いを讃えているのなら", ""],
        ["03:45", "もうどんな場所にいても", ""],
        ["03:50", "光を感じれるよ", ""],
        ["03:53", "♪ (Instrumental)", ""],
        ["04:04", "今 君に贈るよ 気に入るかなぁ？受け取ってよ", ""],
        ["04:17", "君とだから探せたよ 僕の方こそありがとう", ""],
        ["04:31", "lalalala", ""],
        ["04:47", "一番きれいな色ってなんだろう？", ""],
        ["04:54", "一番ひかってるものってなんだろう？", ""],
        ["04:59", "僕は抱きしめる 君がくれたgiftを", ""],
        ["05:07", "いつまでも胸の奥で", ""],
        ["05:11", "ほら ひかってるんだよ", ""],
        ["05:17", "ひかり続けんだよ", ""],
        ["05:40", "辿り着く果てまで", ""],
        ["05:44", "苦しみは尽きぬけど 歓声に身を任せて", ""],
        ["05:51", "期待×不安定 望んで 突き抜けろ", ""],
        ["05:56", "広げた腕で待っている 今", ""],
        ["06:03", "(Whoa, whoa-oh-oh, whoa)", ""],
        ["06:08", "♪ (Instrumental)", ""],
        ["06:12", "記録を付けては体温", ""],
        ["06:14", "日差しを浴びていたいよ", ""],
        ["06:17", "嫌いにならないで 自分を退けないで", ""],
        ["06:22", "唯一無二の人になりたかった", ""],
        ["06:28", "あぁ 認めたくないな", ""],
        ["06:30", "褒められたかった", ""],
        ["06:35", "辿り着く果てなんて", ""],
        ["06:39", "あるかわからないけど 感性に身を任せて", ""],
        ["06:45", "不安を掛けないで 割って 突き抜けろ", ""],
        ["06:51", "張り詰めた身体が踊っている", ""],
        ["06:56", "綺麗な花もいいけど", ""],
        ["06:59", "傷をも誇れる花になろう", ""],
        ["07:05", "(Whoa, whoa-oh-oh, whoa)", ""],
        ["07:15", "良い人なんかじゃないよ", ""],
        ["07:17", "怪我をした心は痛いよ", ""],
        ["07:20", "神様は何をしているの？観ているの？", ""],
        ["07:25", "いつか おとぎ話のように", ""],
        ["07:30", "綺麗になってしまうのかな", ""],
        ["07:33", "血と汗が ただ", ""],
        ["07:40", "♪ (Instrumental)", ""],
        ["08:00", "ゴールテープを探そう", ""],
        ["08:05", "輪になって語ろう", ""],
        ["08:10", "本当に我々は 遠回りする生き物", ""],
        ["08:21", "嫌気がさすよ 共々", ""],
        ["08:26", "灰になって空を舞おう", ""],
        ["08:31", "本当に神々は 私たちを試している", ""],
        ["08:42", "♪ (Instrumental)", ""],
        ["08:49", "試している", ""],
        ["08:53", "♪ (Instrumental)", ""],
        ["09:05", "いつの日にか あの朝も 消えるんだろうか", ""],
        ["09:09", "その時が来るまでは", ""],
        ["09:13", "綺麗な花もいいけど", ""],
        ["09:17", "傷をも誇れる花になろう", ""],
        ["09:21", "愛に満ちたこの日々に 何を残そう", ""],
        ["09:27", "そう 今こそ 生まれてきた意味を刻む時だ", "終幕"]
    ];

    const listElement = document.getElementById('timestamp-list');
    const items = [];

    // リストの生成
    data.forEach(([timeStr, text, memo]) => {
        const parts = timeStr.split(':').reverse();
        let seconds = parseInt(parts[0]) + (parseInt(parts[1]) * 60);
        if (parts[2]) seconds += (parseInt(parts[2]) * 3600);

        const item = document.createElement('div');
        item.className = 'timestamp-item';
        item.innerHTML = `
            <div class="item-main">
                <span class="time-badge">${timeStr}</span>
                <span class="text-content">${text}</span>
            </div>
            <div class="memo-content">${memo}</div>
        `;
        item.onclick = () => {
            if (player && player.seekTo) {
                player.seekTo(seconds, true);
                player.playVideo();
            }
        };
        listElement.appendChild(item);
        items.push({ seconds, element: item });
    });

    // 監視タイマー（自動スクロール用）
    function onPlayerReady() {
        setInterval(() => {
            const currentTime = player.getCurrentTime();
            items.forEach((item, index) => {
                const nextItem = items[index + 1];
                const isPlaying = currentTime >= item.seconds && (!nextItem || currentTime < nextItem.seconds);
                
                if (isPlaying) {
                    if (!item.element.classList.contains('playing')) {
                        item.element.classList.add('playing');
                        item.element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                } else {
                    item.element.classList.remove('playing');
                }
            });
        }, 500); // 0.5秒ごとにチェック
    }
</script>
</body>
</html>
