<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>大画面モニター - 背景色連動</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: "Hiragino Sans", "Meiryo", sans-serif;
            overflow: hidden;
            transition: background-color 0.5s; /* 背景色が変わる時のアニメーション */
            background-color: #000;
            color: #fff;
            cursor: pointer; /* クリックできることを示す */
        }

        #monitor-container {
            text-align: center;
            width: 95%;
            z-index: 10;
        }

        #action-label {
            font-size: 8vw;
            margin-bottom: 2vh;
            display: block;
            font-weight: bold;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
        }

        #name-label {
            font-size: 20vw;
            font-weight: 900;
            display: block;
            line-height: 1;
            text-shadow: 2px 2px 20px rgba(0,0,0,0.5);
        }

        /* --- 動画を完全に隠す設定 --- */
        #player-wrapper {
            position: absolute;
            top: -1000px; /* 画面の外に飛ばす */
            left: -1000px;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }

        /* 背景色パターン（背景を明るくする場合、文字を黒にする調整も自動化） */
        .bg-red { background-color: #ff4d4d; color: #fff; }
        .bg-blue { background-color: #3399ff; color: #fff; }
        .bg-green { background-color: #28a745; color: #fff; }
        .bg-orange { background-color: #fd7e14; color: #fff; }
        .bg-purple { background-color: #6f42c1; color: #fff; }
        .bg-black { background-color: #000; color: #fff; }
    </style>
</head>
<body onclick="togglePlay()">

    <div id="monitor-container">
        <div id="status-msg" style="font-size: 2vw; position: fixed; top: 10px;">画面クリックで再生/一時停止</div>
        <span id="action-label">待機中</span>
        <span id="name-label">READY</span>
    </div>
    
    <div id="player-wrapper">
        <div id="player"></div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // myDataは 01.html のものをここに貼り付けてください
        const myData = [
             ["00:00", "一番きれいな色ってなんだろう？", "色①、るな・みゆ"],
        ["00:07", "一番ひかってるものってなんだろう？", ""],
        ["00:13", "僕は探していた 最高のGIFTを", ""],
        ["00:20", "君が喜んだ姿をイメージしながら", ""],
        ["00:26", "♪ (Instrumental)", "スプレー準備、あん・さき"],
        ["00:37", "「本当の自分」を見つけたいって言うけど", "スプレー、あん・さき"],
        ["00:44", "「生まれた意味」を知りたいって言うけど", ""],
        ["00:50", "僕の両手がそれを渡す時", ""],
        ["00:56", "ふと謎が解けるといいな 受け取ってくれるかな", ""],
        ["01:07", "長い間 君に渡したくて", ""],
        ["01:13", "強く握り締めていたから", ""],
        ["01:18", "もうグジャグジャになって 色は変わり果て", ""],
        ["01:25", "お世辞にもきれいとは言えないけど", "大字準備、さえ・ひで"],
        ["01:30", "「白か黒で答えろ」という", "大字、さえ・ひで"],
        ["01:35", "難題を突きつけられ", ""],
        ["01:38", "ぶち当たった壁の前で", ""],
        ["01:42", "僕らはまた迷っている 迷ってるけど", "色②準備、あん・るな"],
        ["01:50", "白と黒のその間に", "色②、あん・るな"],
        ["01:55", "無限の色が広がってる", ""],
        ["01:58", "君に似合う色探して やさしい名前をつけたなら", ""],
        ["02:04", "ほほ 一番きれいな色", ""],
        ["02:09", "今 君に贈るよ", ""],
        ["02:13", "♪ (Instrumental)", ""],
        ["02:17", "地平線の先に辿り着いても", ""],
        ["02:24", "新しい地平線が広がるだけ", ""],
        ["02:30", "「もうやめにしようか？」 自分の胸に聞くと", ""],
        ["02:38", "「まだ歩き続けたい」と返事が聞こえたよ", "大字準備、さき・みゆ"],
        ["02:47", "知らぬ間に増えていった荷物も", "大字、さき・みゆ"],
        ["02:53", "まだなんとか背負っていけるから", ""],
        ["02:58", "君の分まで持つよ だからそばにいてよ", "文字準備、あん・ひで"],
        ["03:06", "それだけで心は軽くなる", ""],
        ["03:11", "果てしない旅路の果てに", "文字、あん・ひで"],
        ["03:16", "「選ばれる者」とは誰？", ""],
        ["03:19", "たとえ僕じゃなくたって", ""],
        ["03:22", "それでもまた走っていく 走っていくよ", ""],
        ["03:31", "降り注ぐ日差しがあって", ""],
        ["03:35", "だからこそ日陰もあって", ""],
        ["03:38", "そのすべてが意味を持って", ""],
        ["03:42", "互いを讃えているのなら", ""],
        ["03:45", "もうどんな場所にいても", "色③準備、みゆ・さえ"],
        ["03:50", "光を感じれるよ", ""],
        ["03:53", "♪ (Instrumental)", "色③、みゆ・さえ"],
        ["03:54", "♪ (Instrumental)", "書道部文字準備、さき"],
        ["04:04", "今 君に贈るよ 気に入るかなぁ？受け取ってよ", "書道部文字、さき"],
        ["04:17", "君とだから探せたよ 僕の方こそありがとう", ""],
        ["04:31", "lalalala", "大字準備、あん・ひな"],
        ["04:47", "一番きれいな色ってなんだろう？", "大字、あん・ひな"],
        ["04:54", "一番ひかってるものってなんだろう？", ""],
        ["04:59", "僕は抱きしめる 君がくれたgiftを", ""],
        ["05:07", "いつまでも胸の奥で", ""],
        ["05:11", "ほら ひかってるんだよ", ""],
        ["05:17", "ひかり続けんだよ", ""],
        ["05:30", "♪ (Instrumental)", "大字準備、るな・ひで"],
        ["05:40", "辿り着く果てまで", "大字、るな・ひで"],
        ["05:44", "苦しみは尽きぬけど 歓声に身を任せて", ""],
        ["05:51", "期待×不安定 望んで 突き抜けろ", ""],
        ["05:56", "広げた腕で待っている 今", "文字準備、ひな・みゆ"],
        ["06:03", "(Whoa, whoa-oh-oh, whoa)", ""],
        ["06:08", "♪ (Instrumental)", ""],
        ["06:12", "記録を付けては体温", "文字、ひな・みゆ"],
        ["06:14", "日差しを浴びていたいよ", ""],
        ["06:17", "嫌いにならないで 自分を退けないで", ""],
        ["06:22", "唯一無二の人になりたかった", ""],
        ["06:28", "あぁ 認めたくないな", "大字準備、あん・さき"],
        ["06:30", "褒められたかった", ""],
        ["06:35", "辿り着く果てなんて", "大字、あん・さき"],
        ["06:39", "あるかわからないけど 感性に身を任せて", ""],
        ["06:45", "不安を掛けないで 割って 突き抜けろ", ""],
        ["06:51", "張り詰めた身体が踊っている", ""],
        ["06:56", "綺麗な花もいいけど", "色④準備、ひで・ひな"],
        ["06:59", "傷をも誇れる花になろう", ""],
        ["07:05", "(Whoa, whoa-oh-oh, whoa)", "色④、ひで・ひな"],
        ["07:15", "良い人なんかじゃないよ", "文字準備、さき・さえ"],
        ["07:17", "怪我をした心は痛いよ", ""],
        ["07:20", "神様は何をしているの？観ているの？", ""],
        ["07:25", "いつか おとぎ話のように", ""],
        ["07:30", "綺麗になってしまうのかな", ""],
        ["07:33", "血と汗が ただ", ""],
        ["07:40", "♪ (Instrumental)", ""],
        ["08:00", "ゴールテープを探そう", ""],
        ["08:05", "輪になって語ろう", ""],
        ["08:10", "本当に我々は 遠回りする生き物", "文字準備、るな・ひな"],
        ["08:21", "嫌気がさすよ 共々", "文字、るな・ひな"],
        ["08:26", "灰になって空を舞おう", ""],
        ["08:31", "本当に神々は 私たちを試している", ""],
        ["08:42", "♪ (Instrumental)", "色⑤準備、さき・さえ"],
        ["08:49", "試している", ""],
        ["08:53", "♪ (Instrumental)", "色⑤、さき・さえ"],
        ["09:05", "いつの日にか あの朝も 消えるんだろうか", "大字準備、ひな"],
        ["09:09", "その時が来るまでは", ""],
        ["09:13", "綺麗な花もいいけど", "大字、ひな"],
        ["09:17", "傷をも誇れる花になろう", ""],
        ["09:21", "愛に満ちたこの日々に 何を残そう", ""],
        ["09:27", "そう 今こそ 生まれてきた意味を刻む時だ", "立ち上げ、み
        ];

        function toSeconds(timeStr) {
            const parts = timeStr.trim().split(':').reverse();
            let s = parseInt(parts[0], 10) + (parseInt(parts[1], 10) * 60);
            if (parts[2]) s += (parseInt(parts[2], 10) * 3600);
            return s;
        }

        const dataWithSeconds = myData.map(d => ({
            seconds: toSeconds(d[0]),
            memo: d[2]
        }));

        let player;
        const body = document.body;
        const actionEl = document.getElementById('action-label');
        const nameEl = document.getElementById('name-label');

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                videoId: 'lN17WxlwdTY',
                playerVars: { 'autoplay': 0, 'controls': 0 },
                events: { 'onReady': () => setInterval(updateMonitor, 200) }
            });
        }

        // 画面クリックで再生・停止
        function togglePlay() {
            const state = player.getPlayerState();
            if (state === 1) {
                player.pauseVideo();
            } else {
                player.playVideo();
                document.getElementById('status-msg').style.display = 'none';
            }
        }

        function updateMonitor() {
            const currentTime = player.getCurrentTime();
            let currentMemo = "";
            for (let i = 0; i < dataWithSeconds.length; i++) {
                const item = dataWithSeconds[i];
                const nextItem = dataWithSeconds[i + 1];
                if (currentTime >= item.seconds && (!nextItem || currentTime < nextItem.seconds)) {
                    currentMemo = item.memo;
                    break;
                }
            }

            if (currentMemo) {
                let parts = currentMemo.split(/[、]/);
                actionEl.innerText = parts[0] || "";
                nameEl.innerText = parts[1] || "";

                // 背景色の切り替えロジック
                body.className = ""; // 一旦リセット
                if (currentMemo.includes("大字")) body.classList.add("bg-red");
                else if (currentMemo.includes("色")) body.classList.add("bg-blue");
                else if (currentMemo.includes("文字")) body.classList.add("bg-green");
                else if (currentMemo.includes("スプレー")) body.classList.add("bg-orange");
                else body.classList.add("bg-purple");
            } else {
                body.className = "bg-black";
                actionEl.innerText = "（待機）";
                nameEl.innerText = "";
            }
        }
    </script>
</body>
</html>
